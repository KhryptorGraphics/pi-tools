---
ansible_host: artemis.homelab
ansible_python_interpreter: /usr/local/bin/python3.7

tailscale_ip: 100.75.195.24
root_group: wheel

consul_agent_token: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  62393831353733656463646665316665353066383239306430646439653563323866306265636531
  6365393639313761643533646438376664363739306563630a336665346466616136306366633763
  33383335623835633334666263333135393134306166333633343139633836353062396238343939
  6266363666366534660a666233653037623536363231616532663530383233383135653235616163
  35353862373664626638643531643866373538376230363363353336396536373735633830383236
  3937363737656334643632313238666263373339663061373430
consul_services:
  - node_exporter
  - named-local
  - bind_exporter-local
  - postgresql
  - minio
  - prometheus
  - alertmanager
  - named-tailscale
  - bind_exporter-tailscale

jails:

  - name: sandbox
    ips:
      - re0|10.0.2.100
      - lo1|127.0.1.1
    groups: [ ]

  - name: dns1
    ips:
      - re0|10.0.2.101
      - lo1|127.0.2.1
    groups: [ dns ]
    vars:
      setup_named: true
      dns_zone_variant: local
      dns_consul_token: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        65646534633130336438333164646364653539623066666536353165316138613364386139613763
        3834336539623362373532346237623664376332386533300a363562316665613239393464666330
        62613632313732343865653832333137393735386333353936386461363438383066343433306437
        3630663731316633350a373932363036356530633130353139666635343066313933653532373864
        39376537613337623136313032666464623365363966623135376334633766376632653938393366
        3363366165313436343434323637323236353539383038323562

  - name: db1
    ips:
      - re0|10.0.2.102
      - lo1|127.0.3.1
    extra_config: |
      sysvshm = new;
    groups: [ postgres ]

  - name: minio1
    ips:
      - re0|10.0.2.103
      - lo1|127.0.4.1
    groups: [ minio ]

  - name: metrics1
    ips:
      - re0|10.0.2.104
      - lo1|127.0.5.1
    groups: [ metrics ]
    vars:
      prometheus_consul_token: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        38396661313838333637636133626661336439666635646466376330373630623733333735373231
        3263353536303766633861663039653237326338356261640a383464613462653234616339396238
        62383637313335656461386463663361366131306239396363326463303532313033383630323439
        6139643630636638640a343335343665646337343630373234633165326261353064343164616330
        63373434623561316666656531343834316637373735343333373339643931356363616262363261
        6439353632613635613363623238356432386434326133376261
      prometheus_vault_token: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        39373434633164666334653166353431656531613039386361376433313135613361363434326633
        6164346361343331663537373438306533313732323963390a653138336233313232386364653563
        30613765343837343637333439316664386263303439646338656237653061626263363230613661
        3664323664643930630a313939363333383934343836383234643264373539633035343733393239
        39326436323535393230393035646139393162633030623430643338376538356637

  - name: log1
    ips:
      - re0|10.0.2.105
      - lo1|127.0.6.1
    groups: [ logging ]
    vars:
      logging_mode: 'server'

  - name: dns2
    ips:
      - re0|10.0.2.106
      - lo1|127.0.7.1
    groups: [ dns ]
    vars:
      setup_named: true
      dns_zone_variant: tailscale
      dns_consul_token: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        65646534633130336438333164646364653539623066666536353165316138613364386139613763
        3834336539623362373532346237623664376332386533300a363562316665613239393464666330
        62613632313732343865653832333137393735386333353936386461363438383066343433306437
        3630663731316633350a373932363036356530633130353139666635343066313933653532373864
        39376537613337623136313032666464623365363966623135376334633766376632653938393366
        3363366165313436343434323637323236353539383038323562
