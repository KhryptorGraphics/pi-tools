modules:

  dns_public:
    prober: dns
    timeout: 5s
    dns:
      query_name: "www.google.com"
      query_type: "A"
      valid_rcodes:
        - NOERROR
      validate_answer_rrs:
        fail_if_not_matches_regexp:
          - "www.google.com.\t.*\tIN\tA\t.*"

  dns_private:
    prober: dns
    timeout: 5s
    dns:
      query_name: "raspberrypi.homelab"
      query_type: "A"
      valid_rcodes:
        - NOERROR
      validate_answer_rrs:
        fail_if_not_matches_regexp:
          - "raspberrypi.homelab.\t.*\tIN\tA\t10\\.0\\.0\\.2"

  dns_private_cname:
    prober: dns
    timeout: 5s
    dns:
      query_name: "homebase.homelab"
      query_type: "CNAME"
      valid_rcodes:
        - NOERROR
      validate_answer_rrs:
        fail_if_not_matches_regexp:
          - "homebase.homelab.\t.*\tIN\tCNAME\traspberrypi[2-3]?\\.homelab\\."

  kube-api:
    http:
      method: GET
      no_follow_redirects: false
      preferred_ip_protocol: ip4
      tls_config:
        insecure_skip_verify: false
        ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt
      bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token
      valid_http_versions:
        - HTTP/1.1
        - HTTP/2.0
      valid_status_codes: [200]
    prober: http
    timeout: 10s
